{"ast":null,"code":"var _jsxFileName = \"/Users/suraj/project/paypay/review-system/review-system-client/src/modulus/admin/member/index.tsx\";\nimport React from \"react\";\nimport { inject, observer } from \"mobx-react\";\nimport Table from \"common/component/table\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Model from \"common/component/model\";\nimport AddMember from \"modulus/admin/addMember\";\nimport AssignMember from \"modulus/admin/assignMember\";\nimport Loading from \"common/component/loading\";\nimport Notification from \"common/component/notification\";\nimport { pxToRem } from \"theme\";\nconst columns = [{\n  title: \"Name\",\n  dataIndex: \"name\",\n  key: \"name\"\n}, {\n  title: \"Email\",\n  dataIndex: \"email\",\n  key: \"email\"\n}, {\n  title: \"Address\",\n  dataIndex: \"address\",\n  key: \"address\"\n}, {\n  title: \"Position\",\n  dataIndex: \"position\",\n  key: \"position\"\n}, {\n  title: \"Password\",\n  dataIndex: \"password\",\n  key: \"password\"\n}];\n\nfunction Member({\n  members\n}) {\n  const [openAddMemberModal, setOpenAddMemberModal] = React.useState(false);\n  const [openEditMemberModal, setOpenEditMemberModal] = React.useState(false);\n  const [currentMember, setCurrentMember] = React.useState({});\n  const [notification, setNotification] = React.useState({\n    open: false,\n    severity: \"\",\n    message: \"\"\n  });\n  React.useEffect(() => {\n    members.getAllMember();\n  }, [members]);\n  const [openAssignMemberModal, setOpenAssignMemberModal] = React.useState(false);\n\n  const handleOpenAddMemberModal = () => {\n    setOpenAddMemberModal(true);\n  };\n\n  const handleCloseAddMemberModal = () => {\n    setOpenAddMemberModal(false);\n  };\n\n  const handleOpenAssignMemberModal = _id => {\n    setCurrentMember(_id);\n    setOpenAssignMemberModal(true);\n  };\n\n  const handleCloseAssignMemberModal = () => {\n    setOpenAssignMemberModal(false);\n  };\n\n  const handleOpenEditMemberModal = member => {\n    setCurrentMember(member);\n    setOpenEditMemberModal(true);\n  };\n\n  const handleCloseEditMemberModal = () => {\n    setOpenEditMemberModal(false);\n  };\n\n  const extraRows = member => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => handleOpenAssignMemberModal(member),\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, \"Assign\")), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => handleOpenEditMemberModal(member),\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"Edit\"), \"\\xA0\", /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    onClick: async () => {\n      try {\n        const response = await members.deleteMember(member === null || member === void 0 ? void 0 : member._id);\n        setNotification({\n          message: response === null || response === void 0 ? void 0 : response.message,\n          severity: \"success\",\n          open: true\n        });\n      } catch (e) {\n        var _e$data, _e$data$error;\n\n        setNotification({\n          message: e === null || e === void 0 ? void 0 : (_e$data = e.data) === null || _e$data === void 0 ? void 0 : (_e$data$error = _e$data.error) === null || _e$data$error === void 0 ? void 0 : _e$data$error.message,\n          severity: \"success\",\n          open: true\n        });\n        console.info(e);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, \"Delete\")));\n\n  const extraColumns = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, \"Review\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, \"Action\"));\n\n  if (members.members.length < 0) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      loading: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Box, {\n    m: pxToRem(20),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }, \"Member\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleOpenAddMemberModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }, \"Add Member\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    rows: members.membersExceptMe,\n    columns: columns,\n    extraRows: extraRows,\n    extraColumns: extraColumns,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Model, {\n    title: \"Add Member\",\n    open: openAddMemberModal,\n    handleClose: handleCloseAddMemberModal,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AddMember, {\n    handlers: {\n      addMember: members.addMember,\n      callback: setNotification,\n      handleClose: handleCloseAddMemberModal\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Model, {\n    title: \"Assign Member For Review\",\n    open: openAssignMemberModal,\n    handleClose: handleCloseAssignMemberModal,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AssignMember, {\n    members: members,\n    currentMember: currentMember,\n    handlers: {\n      assignMember: members.assignMember,\n      handleClose: handleCloseAssignMemberModal\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Model, {\n    title: \"Assign Member For Review\",\n    open: openEditMemberModal,\n    handleClose: handleCloseEditMemberModal,\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AddMember, {\n    mode: \"edit\",\n    currentMember: currentMember,\n    handlers: {\n      editMember: members.editMember,\n      callback: setNotification,\n      handleClose: handleCloseEditMemberModal\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Notification, {\n    open: notification.open,\n    onClose: () => setNotification({ ...notification,\n      open: false\n    }),\n    severity: notification.severity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }\n  }, notification === null || notification === void 0 ? void 0 : notification.message));\n}\n\nexport default inject(\"members\")(observer(Member));","map":{"version":3,"sources":["/Users/suraj/project/paypay/review-system/review-system-client/src/modulus/admin/member/index.tsx"],"names":["React","inject","observer","Table","TableCell","Button","Box","Typography","Model","AddMember","AssignMember","Loading","Notification","pxToRem","columns","title","dataIndex","key","Member","members","openAddMemberModal","setOpenAddMemberModal","useState","openEditMemberModal","setOpenEditMemberModal","currentMember","setCurrentMember","notification","setNotification","open","severity","message","useEffect","getAllMember","openAssignMemberModal","setOpenAssignMemberModal","handleOpenAddMemberModal","handleCloseAddMemberModal","handleOpenAssignMemberModal","_id","handleCloseAssignMemberModal","handleOpenEditMemberModal","member","handleCloseEditMemberModal","extraRows","response","deleteMember","e","data","error","console","info","extraColumns","length","membersExceptMe","addMember","callback","handleClose","assignMember","editMember"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { inject, observer } from \"mobx-react\";\n\nimport Table from \"common/component/table\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport Model from \"common/component/model\";\nimport AddMember from \"modulus/admin/addMember\";\nimport AssignMember from \"modulus/admin/assignMember\";\nimport Loading from \"common/component/loading\";\nimport Notification from \"common/component/notification\";\n\nimport { pxToRem } from \"theme\";\n\nconst columns = [\n  {\n    title: \"Name\",\n    dataIndex: \"name\",\n    key: \"name\",\n  },\n  {\n    title: \"Email\",\n    dataIndex: \"email\",\n    key: \"email\",\n  },\n  {\n    title: \"Address\",\n    dataIndex: \"address\",\n    key: \"address\",\n  },\n  {\n    title: \"Position\",\n    dataIndex: \"position\",\n    key: \"position\",\n  },\n  {\n    title: \"Password\",\n    dataIndex: \"password\",\n    key: \"password\",\n  },\n];\n\nfunction Member({ members }: any) {\n  const [openAddMemberModal, setOpenAddMemberModal] = React.useState(false);\n  const [openEditMemberModal, setOpenEditMemberModal] = React.useState(false);\n  const [currentMember, setCurrentMember] = React.useState({});\n  const [notification, setNotification] = React.useState({\n    open: false,\n    severity: \"\",\n    message: \"\",\n  });\n\n  React.useEffect(() => {\n    members.getAllMember();\n  }, [members]);\n\n  const [openAssignMemberModal, setOpenAssignMemberModal] =\n    React.useState(false);\n\n  const handleOpenAddMemberModal = () => {\n    setOpenAddMemberModal(true);\n  };\n\n  const handleCloseAddMemberModal = () => {\n    setOpenAddMemberModal(false);\n  };\n\n  const handleOpenAssignMemberModal = (_id: any) => {\n    setCurrentMember(_id);\n    setOpenAssignMemberModal(true);\n  };\n\n  const handleCloseAssignMemberModal = () => {\n    setOpenAssignMemberModal(false);\n  };\n\n  const handleOpenEditMemberModal = (member: any) => {\n    setCurrentMember(member);\n    setOpenEditMemberModal(true);\n  };\n\n  const handleCloseEditMemberModal = () => {\n    setOpenEditMemberModal(false);\n  };\n\n  const extraRows = (member: any) => (\n    <>\n      <TableCell>\n        <Button\n          variant=\"contained\"\n          onClick={() => handleOpenAssignMemberModal(member)}\n          color=\"primary\"\n        >\n          Assign\n        </Button>\n      </TableCell>\n      <TableCell>\n        <Button\n          variant=\"contained\"\n          onClick={() => handleOpenEditMemberModal(member)}\n          color=\"primary\"\n        >\n          Edit\n        </Button>\n        &nbsp;\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={async () => {\n            try {\n              const response: any = await members.deleteMember(member?._id);\n              setNotification({\n                message: response?.message,\n                severity: \"success\",\n                open: true,\n              });\n            } catch (e) {\n              setNotification({\n                message: e?.data?.error?.message,\n                severity: \"success\",\n                open: true,\n              });\n              console.info(e);\n            }\n          }}\n        >\n          Delete\n        </Button>\n      </TableCell>\n    </>\n  );\n\n  const extraColumns = () => (\n    <>\n      <TableCell>Review</TableCell>\n      <TableCell>Action</TableCell>\n    </>\n  );\n\n  if (members.members.length < 0) {\n    return <Loading loading={true} />;\n  }\n\n  return (\n    <Box m={pxToRem(20)}>\n      <Typography variant=\"h4\">Member</Typography>\n      <br />\n      <br />\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={handleOpenAddMemberModal}\n      >\n        Add Member\n      </Button>\n      <br />\n      <br />\n      <Table\n        rows={members.membersExceptMe}\n        columns={columns}\n        extraRows={extraRows}\n        extraColumns={extraColumns}\n      />\n      <Model\n        title=\"Add Member\"\n        open={openAddMemberModal}\n        handleClose={handleCloseAddMemberModal}\n        fullWidth\n      >\n        <AddMember\n          handlers={{\n            addMember: members.addMember,\n            callback: setNotification,\n            handleClose: handleCloseAddMemberModal,\n          }}\n        />\n      </Model>\n      <Model\n        title=\"Assign Member For Review\"\n        open={openAssignMemberModal}\n        handleClose={handleCloseAssignMemberModal}\n        fullWidth\n      >\n        <AssignMember\n          members={members}\n          currentMember={currentMember}\n          handlers={{\n            assignMember: members.assignMember,\n            handleClose: handleCloseAssignMemberModal,\n          }}\n        />\n      </Model>\n      <Model\n        title=\"Assign Member For Review\"\n        open={openEditMemberModal}\n        handleClose={handleCloseEditMemberModal}\n        fullWidth\n      >\n        <AddMember\n          mode=\"edit\"\n          currentMember={currentMember}\n          handlers={{\n            editMember: members.editMember,\n            callback: setNotification,\n            handleClose: handleCloseEditMemberModal,\n          }}\n        />\n      </Model>\n      <Notification\n        open={notification.open}\n        onClose={() => setNotification({ ...notification, open: false })}\n        severity={notification.severity}\n      >\n        {notification?.message}\n      </Notification>\n    </Box>\n  );\n}\n\nexport default inject(\"members\")(observer(Member));\n"]},"metadata":{},"sourceType":"module"}