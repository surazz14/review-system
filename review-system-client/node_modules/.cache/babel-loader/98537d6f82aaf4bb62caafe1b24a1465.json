{"ast":null,"code":"import _objectSpread from\"/Users/suraj/project/paypay/review-system/review-system-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/suraj/project/paypay/review-system/review-system-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{inject,observer}from\"mobx-react\";import Table from\"common/component/table\";import TableCell from\"@material-ui/core/TableCell\";import Button from\"@material-ui/core/Button\";import Box from\"@material-ui/core/Box\";import Typography from\"@material-ui/core/Typography\";import Model from\"common/component/model\";import Notification from\"common/component/notification\";import AddFeedback from\"./addFeedback\";import{pxToRem}from\"theme\";var columns=[{title:\"Name\",dataIndex:\"name\",key:\"name\"},{title:\"Email\",dataIndex:\"email\",key:\"email\"},{title:\"Address\",dataIndex:\"address\",key:\"address\"},{title:\"Position\",dataIndex:\"position\",key:\"position\"},{title:\"ReviewedBy\",dataIndex:\"reviewedBy\",key:\"reviewedBy\"}];function Review(_ref){var reviews=_ref.reviews;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),openFeedbackModal=_React$useState2[0],setOpenFeedbackModal=_React$useState2[1];var _React$useState3=React.useState({}),_React$useState4=_slicedToArray(_React$useState3,2),currentMember=_React$useState4[0],setCurrentMember=_React$useState4[1];var _React$useState5=React.useState({open:false,severity:\"\",message:\"\"}),_React$useState6=_slicedToArray(_React$useState5,2),notification=_React$useState6[0],setNotification=_React$useState6[1];React.useEffect(function(){reviews.getAllReview();},[reviews]);var handleOpenFeedbackModal=function handleOpenFeedbackModal(member){setCurrentMember(member);setOpenFeedbackModal(true);};var handleCloseFeedbackModal=function handleCloseFeedbackModal(){setOpenFeedbackModal(false);};var extraRows=function extraRows(member){return/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Button,{variant:\"contained\",onClick:function onClick(){return handleOpenFeedbackModal(member);},color:\"primary\"},(member===null||member===void 0?void 0:member.feedback)?\"edit\":\"add\"));};var extraColumns=function extraColumns(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TableCell,null,\"Feedback\"));};return/*#__PURE__*/React.createElement(Box,{m:pxToRem(20)},/*#__PURE__*/React.createElement(Typography,{variant:\"h4\"},\"Review\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Table,{rows:reviews.normalizedReview,columns:columns,extraRows:extraRows,extraColumns:extraColumns}),/*#__PURE__*/React.createElement(Model,{title:\"Assign Member For Review\",open:openFeedbackModal,handleClose:handleCloseFeedbackModal,fullWidth:true},/*#__PURE__*/React.createElement(AddFeedback,{currentMember:currentMember,handlers:{editFeedback:reviews.editFeedback,getAllReview:reviews.getAllReview,handleClose:handleCloseFeedbackModal,callback:setNotification}})),/*#__PURE__*/React.createElement(Notification,{open:notification.open,onClose:function onClose(){return setNotification(_objectSpread(_objectSpread({},notification),{},{open:false}));},severity:notification.severity},notification===null||notification===void 0?void 0:notification.message));}export default inject(\"reviews\")(observer(Review));","map":{"version":3,"sources":["/Users/suraj/project/paypay/review-system/review-system-client/src/modulus/review/index.tsx"],"names":["React","inject","observer","Table","TableCell","Button","Box","Typography","Model","Notification","AddFeedback","pxToRem","columns","title","dataIndex","key","Review","reviews","useState","openFeedbackModal","setOpenFeedbackModal","currentMember","setCurrentMember","open","severity","message","notification","setNotification","useEffect","getAllReview","handleOpenFeedbackModal","member","handleCloseFeedbackModal","extraRows","feedback","extraColumns","normalizedReview","editFeedback","handleClose","callback"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { inject, observer } from \"mobx-react\";\n\nimport Table from \"common/component/table\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport Model from \"common/component/model\";\nimport Notification from \"common/component/notification\";\nimport AddFeedback from \"./addFeedback\";\n\nimport { pxToRem } from \"theme\";\n\nconst columns = [\n  {\n    title: \"Name\",\n    dataIndex: \"name\",\n    key: \"name\",\n  },\n  {\n    title: \"Email\",\n    dataIndex: \"email\",\n    key: \"email\",\n  },\n  {\n    title: \"Address\",\n    dataIndex: \"address\",\n    key: \"address\",\n  },\n  {\n    title: \"Position\",\n    dataIndex: \"position\",\n    key: \"position\",\n  },\n  {\n    title: \"ReviewedBy\",\n    dataIndex: \"reviewedBy\",\n    key: \"reviewedBy\",\n  },\n];\n\nfunction Review({ reviews }: any) {\n  const [openFeedbackModal, setOpenFeedbackModal] = React.useState(false);\n  const [currentMember, setCurrentMember] = React.useState({});\n  const [notification, setNotification] = React.useState({\n    open: false,\n    severity: \"\",\n    message: \"\",\n  });\n\n\n  React.useEffect(() => {\n    reviews.getAllReview();\n  }, [reviews]);\n\n  const handleOpenFeedbackModal = (member: any) => {\n    setCurrentMember(member);\n    setOpenFeedbackModal(true);\n  };\n\n  const handleCloseFeedbackModal = () => {\n    setOpenFeedbackModal(false);\n  };\n\n  const extraRows = (member: any) => (\n    <TableCell>\n      <Button\n        variant=\"contained\"\n        onClick={() => handleOpenFeedbackModal(member)}\n        color=\"primary\"\n      >\n        {member?.feedback ? \"edit\" : \"add\"}\n      </Button>\n    </TableCell>\n  );\n\n  const extraColumns = () => (\n    <>\n      <TableCell>Feedback</TableCell>\n    </>\n  );\n\n  return (\n    <Box m={pxToRem(20)}>\n      <Typography variant='h4'>Review</Typography>\n      <br />\n      <br />\n      <Table\n        rows={reviews.normalizedReview}\n        columns={columns}\n        extraRows={extraRows}\n        extraColumns={extraColumns}\n      />\n      <Model\n        title=\"Assign Member For Review\"\n        open={openFeedbackModal}\n        handleClose={handleCloseFeedbackModal}\n        fullWidth\n      >\n        <AddFeedback\n          currentMember={currentMember}\n          handlers={{\n            editFeedback: reviews.editFeedback,\n            getAllReview: reviews.getAllReview,\n            handleClose: handleCloseFeedbackModal,\n            callback: setNotification\n          }}\n        />\n      </Model>\n      <Notification\n        open={notification.open}\n        onClose={() => setNotification({ ...notification, open: false })}\n        severity={notification.severity}\n      >\n        {notification?.message}\n      </Notification>\n    </Box>\n  );\n}\n\nexport default inject(\"reviews\")(observer(Review));\n"]},"metadata":{},"sourceType":"module"}