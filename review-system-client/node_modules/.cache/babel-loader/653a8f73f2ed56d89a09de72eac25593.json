{"ast":null,"code":"import _regeneratorRuntime from\"/Users/suraj/project/paypay/review-system/review-system-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/suraj/project/paypay/review-system/review-system-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/suraj/project/paypay/review-system/review-system-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import Box from\"@material-ui/core/Box\";import TextField from\"@material-ui/core/TextField\";import Button from\"@material-ui/core/Button\";import{pxToRem}from\"theme\";export default function AddFeedback(_ref){var currentMember=_ref.currentMember,handlers=_ref.handlers;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),feedback=_React$useState2[0],setFeedback=_React$useState2[1];React.useEffect(function(){if(currentMember.feedback){setFeedback(currentMember.feedback);}},[currentMember]);var onChange=function onChange(e){setFeedback(e.target.value);};var onAdd=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_e$data,_e$data$error;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.t0=handlers===null||handlers===void 0?void 0:handlers.editFeedback;if(!_context.t0){_context.next=6;break;}_context.next=5;return handlers.editFeedback(currentMember._id,feedback,currentMember);case 5:_context.t0=_context.sent;case 6:response=_context.t0;handlers.getAllReview();handlers.callback({open:true,message:response===null||response===void 0?void 0:response.message,severity:\"success\"});_context.next=14;break;case 11:_context.prev=11;_context.t1=_context[\"catch\"](0);handlers.callback({open:true,message:_context.t1===null||_context.t1===void 0?void 0:(_e$data=_context.t1.data)===null||_e$data===void 0?void 0:(_e$data$error=_e$data.error)===null||_e$data$error===void 0?void 0:_e$data$error.message,severity:\"error\"});case 14:handlers.handleClose();case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function onAdd(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Box,null,/*#__PURE__*/React.createElement(Box,{m:pxToRem(8)},/*#__PURE__*/React.createElement(TextField,{id:\"feedback\",label:\"Feedback\",multiline:true,rows:6,fullWidth:true,variant:\"outlined\",value:feedback,onChange:onChange})),/*#__PURE__*/React.createElement(Box,{m:pxToRem(8)},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:onAdd},\"Add Feedback\")));}","map":{"version":3,"sources":["/Users/suraj/project/paypay/review-system/review-system-client/src/modulus/review/addFeedback/index.tsx"],"names":["React","Box","TextField","Button","pxToRem","AddFeedback","currentMember","handlers","useState","feedback","setFeedback","useEffect","onChange","e","target","value","onAdd","editFeedback","_id","response","getAllReview","callback","open","message","severity","data","error","handleClose"],"mappings":"4hBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CAEA,OAASC,OAAT,KAAwB,OAAxB,CAYA,cAAe,SAASC,CAAAA,WAAT,MAGG,IAFhBC,CAAAA,aAEgB,MAFhBA,aAEgB,CADhBC,QACgB,MADhBA,QACgB,CAChB,oBAAgCP,KAAK,CAACQ,QAAN,CAAe,EAAf,CAAhC,oDAAOC,QAAP,qBAAiBC,WAAjB,qBAEAV,KAAK,CAACW,SAAN,CAAgB,UAAM,CACpB,GAAIL,aAAa,CAACG,QAAlB,CAA4B,CAC1BC,WAAW,CAACJ,aAAa,CAACG,QAAf,CAAX,CACD,CACF,CAJD,CAIG,CAACH,aAAD,CAJH,EAMA,GAAMM,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAY,CAC3BH,WAAW,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACD,CAFD,CAKA,GAAMC,CAAAA,KAAK,2FAAG,kMAGRT,QAHQ,SAGRA,QAHQ,iBAGRA,QAAQ,CAAEU,YAHF,+DAIDV,CAAAA,QAAQ,CAACU,YAAT,CACLX,aAAa,CAACY,GADT,CAELT,QAFK,CAGLH,aAHK,CAJC,yCAENa,QAFM,aASVZ,QAAQ,CAACa,YAAT,GAEAb,QAAQ,CAACc,QAAT,CAAkB,CAChBC,IAAI,CAAE,IADU,CAEhBC,OAAO,CAAEJ,QAAF,SAAEA,QAAF,iBAAEA,QAAQ,CAAEI,OAFH,CAGhBC,QAAQ,CAAE,SAHM,CAAlB,EAXU,iFAiBVjB,QAAQ,CAACc,QAAT,CAAkB,CAChBC,IAAI,CAAE,IADU,CAEhBC,OAAO,0DAAE,YAAGE,IAAL,iDAAE,QAASC,KAAX,wCAAE,cAAgBH,OAFT,CAGhBC,QAAQ,CAAE,OAHM,CAAlB,EAjBU,QAuBZjB,QAAQ,CAACoB,WAAT,GAvBY,qEAAH,kBAALX,CAAAA,KAAK,2CAAX,CA0BA,mBACE,oBAAC,GAAD,mBACE,oBAAC,GAAD,EAAK,CAAC,CAAEZ,OAAO,CAAC,CAAD,CAAf,eACE,oBAAC,SAAD,EACE,EAAE,CAAC,UADL,CAEE,KAAK,CAAC,UAFR,CAGE,SAAS,KAHX,CAIE,IAAI,CAAE,CAJR,CAKE,SAAS,KALX,CAME,OAAO,CAAC,UANV,CAOE,KAAK,CAAEK,QAPT,CAQE,QAAQ,CAAEG,QARZ,EADF,CADF,cAaE,oBAAC,GAAD,EAAK,CAAC,CAAER,OAAO,CAAC,CAAD,CAAf,eACE,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,OAAO,CAAEY,KAArD,iBADF,CAbF,CADF,CAqBD","sourcesContent":["import React from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\nimport { pxToRem } from \"theme\";\n\ninterface AddMemberType {\n  currentMember: any;\n  handlers: {\n    editFeedback: (id: string, feedback: string, currentMember: any) => void;\n    getAllReview: () => void;\n    callback?: any;\n    handleClose: () => void;\n  };\n}\n\nexport default function AddFeedback({\n  currentMember,\n  handlers,\n}: AddMemberType) {\n  const [feedback, setFeedback] = React.useState(\"\");\n\n  React.useEffect(() => {\n    if (currentMember.feedback) {\n      setFeedback(currentMember.feedback);\n    }\n  }, [currentMember]);\n\n  const onChange = (e: any) => {\n    setFeedback(e.target.value);\n  };\n\n\n  const onAdd = async () => {\n    try {\n      let response: any =\n        handlers?.editFeedback &&\n        (await handlers.editFeedback(\n          currentMember._id,\n          feedback,\n          currentMember\n        ));\n      handlers.getAllReview();\n\n      handlers.callback({\n        open: true,\n        message: response?.message,\n        severity: \"success\",\n      });\n    } catch (e) {\n      handlers.callback({\n        open: true,\n        message: e?.data?.error?.message,\n        severity: \"error\",\n      });\n    }\n    handlers.handleClose();\n  };\n\n  return (\n    <Box>\n      <Box m={pxToRem(8)}>\n        <TextField\n          id=\"feedback\"\n          label=\"Feedback\"\n          multiline\n          rows={6}\n          fullWidth\n          variant=\"outlined\"\n          value={feedback}\n          onChange={onChange}\n        />\n      </Box>\n      <Box m={pxToRem(8)}>\n        <Button variant=\"contained\" color=\"primary\" onClick={onAdd}>\n          Add Feedback\n        </Button>\n      </Box>\n    </Box>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}