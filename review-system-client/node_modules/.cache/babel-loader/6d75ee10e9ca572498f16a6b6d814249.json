{"ast":null,"code":"import _regeneratorRuntime from\"/Users/suraj/project/paypay/review-system/review-system-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/suraj/project/paypay/review-system/review-system-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/suraj/project/paypay/review-system/review-system-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/suraj/project/paypay/review-system/review-system-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/suraj/project/paypay/review-system/review-system-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{inject,observer}from\"mobx-react\";import Box from\"@material-ui/core/Box\";import Card from\"@material-ui/core/Card\";import TextField from\"@material-ui/core/TextField\";import Typography from\"@material-ui/core/Typography\";import Button from\"@material-ui/core/Button\";import{makeStyles}from\"@material-ui/core/styles\";import Notification from\"common/component/notification\";import{pxToRem}from\"theme\";var useStyles=makeStyles({root:{minWidth:575}});function Login(_ref){var user=_ref.user;var classes=useStyles();var _React$useState=React.useState({email:\"\",password:\"\"}),_React$useState2=_slicedToArray(_React$useState,2),loginData=_React$useState2[0],setLoginData=_React$useState2[1];var _React$useState3=React.useState({open:false,severity:\"\",message:\"\"}),_React$useState4=_slicedToArray(_React$useState3,2),notification=_React$useState4[0],setNotification=_React$useState4[1];var onChange=function onChange(e){setLoginData(_objectSpread(_objectSpread({},loginData),{},_defineProperty({},e.target.name,e.target.value)));};var onLogin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _e$data,_e$data$error;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return user.login(loginData);case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);setNotification({open:true,severity:\"error\",message:_context.t0===null||_context.t0===void 0?void 0:(_e$data=_context.t0.data)===null||_e$data===void 0?void 0:(_e$data$error=_e$data.error)===null||_e$data$error===void 0?void 0:_e$data$error.message});case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function onLogin(){return _ref2.apply(this,arguments);};}();// const receiveMessage = (event: any) => {\n//   console.log(\"this is event\", event);\n//   // alert(\"got message: \" + event.data);\n// };\nfunction getData(){setTimeout(function(){var myIframe=document.getElementById(\"test\");console.log(\"myIframe\",myIframe);// @ts-ignore\nvar message={apiKey:\"1234\",onPreview:'()=>{}',onSave:'()=>{}'};// @ts-ignore\nmyIframe.contentWindow.postMessage(JSON.stringify(message),\"*\");},1000);}return/*#__PURE__*/React.createElement(Box,{display:\"flex\",justifyContent:\"center\",mt:pxToRem(240)},/*#__PURE__*/React.createElement(Card,{className:classes.root,variant:\"outlined\"},/*#__PURE__*/React.createElement(Box,{m:pxToRem(12),textAlign:\"center\"},/*#__PURE__*/React.createElement(Typography,{variant:\"h4\",color:\"primary\"},\"Login\")),/*#__PURE__*/React.createElement(Box,{m:pxToRem(12)},/*#__PURE__*/React.createElement(TextField,{label:\"Email\",name:\"email\",value:loginData.email,onChange:onChange,type:\"text\",variant:\"outlined\",fullWidth:true})),/*#__PURE__*/React.createElement(Box,{m:pxToRem(12)},/*#__PURE__*/React.createElement(TextField,{label:\"Password\",name:\"password\",value:loginData.password,onChange:onChange,type:\"password\",variant:\"outlined\",fullWidth:true})),/*#__PURE__*/React.createElement(Box,{m:pxToRem(12)},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",onClick:onLogin,color:\"primary\"},\"Login\"))),/*#__PURE__*/React.createElement(\"iframe\",{width:\"853\",onLoad:getData,id:\"test\",height:\"480\",src:\"http://localhost:3000\",frameBorder:\"0\",allowFullScreen:true}),/*#__PURE__*/React.createElement(Notification,{open:notification.open,onClose:function onClose(){return setNotification(_objectSpread(_objectSpread({},notification),{},{open:false}));},severity:notification.severity},notification===null||notification===void 0?void 0:notification.message));}export default inject(\"user\")(observer(Login));","map":{"version":3,"sources":["/Users/suraj/project/paypay/review-system/review-system-client/src/modulus/login/index.tsx"],"names":["React","inject","observer","Box","Card","TextField","Typography","Button","makeStyles","Notification","pxToRem","useStyles","root","minWidth","Login","user","classes","useState","email","password","loginData","setLoginData","open","severity","message","notification","setNotification","onChange","e","target","name","value","onLogin","login","data","error","getData","setTimeout","myIframe","document","getElementById","console","log","apiKey","onPreview","onSave","contentWindow","postMessage","JSON","stringify"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { inject, observer } from \"mobx-react\";\nimport Box from \"@material-ui/core/Box\";\nimport Card from \"@material-ui/core/Card\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport Notification from \"common/component/notification\";\nimport { pxToRem } from \"theme\";\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 575,\n  },\n});\n\nfunction Login({ user }: any) {\n  const classes = useStyles();\n\n  const [loginData, setLoginData] = React.useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const [notification, setNotification] = React.useState({\n    open: false,\n    severity: \"\",\n    message: \"\",\n  });\n\n  const onChange = (e: any) => {\n    setLoginData({ ...loginData, [e.target.name]: e.target.value });\n  };\n\n  const onLogin = async () => {\n    try {\n      await user.login(loginData);\n    } catch (e) {\n      setNotification({\n        open: true,\n        severity: \"error\",\n        message: e?.data?.error?.message,\n      });\n    }\n  };\n\n  // const receiveMessage = (event: any) => {\n  //   console.log(\"this is event\", event);\n  //   // alert(\"got message: \" + event.data);\n  // };\n  function getData() {\n    setTimeout(() => {\n      const myIframe = document.getElementById(\"test\");\n      console.log(\"myIframe\", myIframe);\n      // @ts-ignore\n\n      const message = {\n        apiKey:\"1234\",\n        onPreview:'()=>{}',\n        onSave:'()=>{}',\n      };\n      // @ts-ignore\n      myIframe.contentWindow.postMessage(\n        JSON.stringify(message),\n        \"*\"\n      );\n    }, 1000);\n  }\n\n  return (\n    <Box display=\"flex\" justifyContent=\"center\" mt={pxToRem(240)}>\n      <Card className={classes.root} variant=\"outlined\">\n        <Box m={pxToRem(12)} textAlign=\"center\">\n          <Typography variant=\"h4\" color=\"primary\">\n            Login\n          </Typography>\n        </Box>\n        <Box m={pxToRem(12)}>\n          <TextField\n            label=\"Email\"\n            name=\"email\"\n            value={loginData.email}\n            onChange={onChange}\n            type=\"text\"\n            variant=\"outlined\"\n            fullWidth\n          />\n        </Box>\n        <Box m={pxToRem(12)}>\n          <TextField\n            label=\"Password\"\n            name=\"password\"\n            value={loginData.password}\n            onChange={onChange}\n            type=\"password\"\n            variant=\"outlined\"\n            fullWidth\n          />\n        </Box>\n        <Box m={pxToRem(12)}>\n          <Button variant=\"contained\" onClick={onLogin} color=\"primary\">\n            Login\n          </Button>\n        </Box>\n      </Card>\n      <iframe\n        width=\"853\"\n        onLoad={getData}\n        id=\"test\"\n        height=\"480\"\n        src=\"http://localhost:3000\"\n        frameBorder=\"0\"\n        allowFullScreen\n      ></iframe>\n      <Notification\n        open={notification.open}\n        onClose={() => setNotification({ ...notification, open: false })}\n        severity={notification.severity}\n      >\n        {notification?.message}\n      </Notification>\n    </Box>\n  );\n}\nexport default inject(\"user\")(observer(Login));\n"]},"metadata":{},"sourceType":"module"}