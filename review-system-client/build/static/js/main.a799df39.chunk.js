(this["webpackJsonpreview-system-client"]=this["webpackJsonpreview-system-client"]||[]).push([[0],{116:function(e,t,a){e.exports=a(146)},142:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),o=a(13),c=a.n(o),s=a(23),l=a(217),u=a(218),d=a(100),m=function(e){return"".concat(e/16*1,"rem")},v=Object(d.a)({palette:{background:{default:"#f2f2f2"}}}),p=a(11),b=a.n(p),f=a(9),g=a(15),h=a(32),E=a(96),w=a.n(E).a.create({baseURL:"http://localhost:5000/api",headers:{Origin:"*",Accept:"application/json","Content-Type":"application/json"}}),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"POST";return function(t){return function(){var a=Object(h.a)(b.a.mark((function a(n){var r,i,o,c,s=arguments;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{params:{},withResponseHeader:!1,withResponseComplete:!1},i={method:e,url:t,data:n},r.params&&(i.params=r.params),o={},r.contentType&&(o.contentType=r.contentType||"application/json"),a.prev=5,a.next=8,w(i);case 8:if(c=a.sent,!r.withResponseComplete){a.next=11;break}return a.abrupt("return",c);case 11:if(!r.withResponseHeader){a.next=13;break}return a.abrupt("return",Object(g.a)({headers:Object(g.a)(Object(g.a)({},c.headers),{},{status:c.status})},c.data));case 13:return a.abrupt("return",c.data);case 16:throw a.prev=16,a.t0=a.catch(5),a.t0.response;case 19:case"end":return a.stop()}}),a,null,[[5,16]])})));return function(e){return a.apply(this,arguments)}}()}},k=y("GET"),x=y("POST"),O=y("PUT"),j=y("DELETE"),C=function(e){return function(t,a){return e[t]=a,e[t]}},M=function(e){return{getRequest:k,postRequest:x,putRequest:O,deleteRequest:j,setKey:C(e)}},R=f.b.model("member",{_id:f.b.string,name:f.b.string,email:f.b.string,address:f.b.string,position:f.b.string,password:f.b.string,assigned:f.b.frozen()}).actions(M),A=f.b.model("members",{members:f.b.optional(f.b.array(R),[])}).actions(M).actions((function(e){return{getAllMember:Object(f.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getRequest("/user")();case 3:return a=t.sent,e.members=a.users,t.abrupt("return",a);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),addMember:Object(f.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.postRequest("/user")(a);case 3:return n=t.sent,e.members=n.users,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),assignMember:Object(f.a)(b.a.mark((function t(a,n){var r,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={assigned:n.map((function(e){return e._id}))},t.next=4,e.putRequest("/user/assign/".concat(a._id))(r);case 4:return i=t.sent,e.members=i.users,t.abrupt("return",i);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),editMember:Object(f.a)(b.a.mark((function t(a,n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.putRequest("/user/".concat(n))(a);case 3:return r=t.sent,e.members=r.users,t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),deleteMember:Object(f.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.deleteRequest("/user/".concat(a))();case 3:return n=t.sent,e.members=n.users,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))}})).views((function(e){return{normalizedAssignedUser:function(t){var a=[];return t.forEach((function(t){var n=e.members.find((function(e){return e._id===t}));n&&a.push(n)})),a},get membersExceptMe(){return e.members.filter((function(e){return e._id!==z.user._id}))},membersExcept:function(e,t){return t.filter((function(t){return t._id!==e}))}}})),_=f.b.model("review",{_id:f.b.string,assignedUser:f.b.frozen(R),feedback:f.b.string,reviewedBy:f.b.frozen(R)}).actions(M),I=f.b.model("Review",{reviews:f.b.optional(f.b.array(_),[])}).actions(M).actions((function(e){return{getAllReview:Object(f.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=z.user._id,t.prev=1,t.next=4,e.getRequest("/user/review/".concat(a))();case 4:return n=t.sent,e.reviews=n.reviews,t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(1),t.t0;case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))),editFeedback:Object(f.a)(b.a.mark((function t(a,n,r){var i,o,c,s,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.reviews.find((function(e){return e._id===a})),t.prev=1,s={assignedUser:null===i||void 0===i||null===(o=i.assignedUser)||void 0===o?void 0:o._id,feedback:n,reviewedBy:null===i||void 0===i||null===(c=i.reviewedBy)||void 0===c?void 0:c._id},t.next=5,e.putRequest("/user/review/".concat(a))(s);case 5:return l=t.sent,t.abrupt("return",l);case 9:throw t.prev=9,t.t0=t.catch(1),t.t0;case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))),deleteMember:Object(f.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.deleteRequest("/user/".concat(a))();case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}})).views((function(e){return{get normalizedReview(){return e.reviews.map((function(e){var t,a,n,r,i;return{_id:e._id,feedback:e.feedback,name:null===(t=e.assignedUser)||void 0===t?void 0:t.name,email:null===(a=e.assignedUser)||void 0===a?void 0:a.email,address:null===(n=e.assignedUser)||void 0===n?void 0:n.address,position:null===(r=e.assignedUser)||void 0===r?void 0:r.position,reviewedBy:null===(i=e.reviewedBy)||void 0===i?void 0:i.email}}))},getReviewById:function(t){e.reviews.find((function(e){return e===t}))}}})),S=a(24),W=Object(S.a)();!function(e){e.admin="admin",e.member="member"}(n||(n={}));var F=f.b.model("user",{_id:f.b.string,name:f.b.string,email:f.b.string,address:f.b.string,position:f.b.string,token:f.b.string,role:f.b.string}).actions(M).actions((function(e){return{login:Object(f.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.postRequest("/user/login")(a);case 3:return n=t.sent,e._id=n._id,e.email=n.email,e.address=n.address,e.position=n.position,e.token=n.token,e.role=n.role,W.push("/review"),t.abrupt("return",n);case 14:throw t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])}))),logout:function(){e.token="",W.push("/")}}})),B={members:A.create({}),reviews:I.create({}),user:F.create({_id:"",name:"",email:"",address:"",position:"",token:"",role:""})};window.app=B;var z=B,P=(a(142),a(16)),q=a(220),L=a(67),D=a(195),U=a(226),N=a(199),T=a(202),K=a(200),H=a(201),G=a(57),J=a(203),Y=Object(D.a)((function(e){return{root:{display:"flex",background:"red"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(200,"px)"),marginLeft:200,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:200,flexShrink:0},drawerPaper:{width:200},drawerHeader:Object(g.a)(Object(g.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-200},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}));var Z=function(e){var t=e.logout,a=e.role,r=Y();return i.a.createElement("div",{className:r.root},i.a.createElement(U.a,{className:r.drawer,variant:"permanent",anchor:"left",open:!0,classes:{paper:r.drawerPaper}},i.a.createElement(q.a,{textAlign:"center"},i.a.createElement(G.a,{variant:"h5"},"Admin panel")),i.a.createElement(N.a,null,i.a.createElement(L.a,{style:{textDecoration:"none"},to:"/member"},a===n.admin&&i.a.createElement(K.a,{button:!0,key:"member"},i.a.createElement(H.a,{primary:"Member"})),i.a.createElement(T.a,null)),i.a.createElement(L.a,{style:{textDecoration:"none"},to:"/review"},i.a.createElement(K.a,{button:!0,key:"review"},i.a.createElement(H.a,{primary:"Review"})))),i.a.createElement(q.a,{textAlign:"center"},i.a.createElement(J.a,{onClick:function(){t()}},"Logout"))))},$=a(19),Q=a(205),V=a(209),X=a(208),ee=a(204),te=a(206),ae=a(207),ne=a(103),re=Object(D.a)({table:{minWidth:650}});var ie=function(e){var t=e.columns,a=e.rows,n=e.extraColumns,r=e.extraRows,o=re();return i.a.createElement(ee.a,{component:ne.a},i.a.createElement(Q.a,{className:o.table,"aria-label":"simple table"},i.a.createElement(te.a,null,i.a.createElement(ae.a,null,t.map((function(e){return i.a.createElement(X.a,{key:e.key},e.title)})),n&&n())),i.a.createElement(V.a,null,null===a||void 0===a?void 0:a.map((function(e,a){return i.a.createElement(ae.a,{key:e._id},t.map((function(t){return i.a.createElement(X.a,{key:t.key},e[t.key])})),r&&r(e))})))))},oe=a(210),ce=a(212),se=a(211);var le=function(e){var t=e.open,a=void 0!==t&&t,n=e.handleClose,r=e.title,o=e.children;return e.fullWidth,i.a.createElement(oe.a,{open:a,onClose:n,fullWidth:!0},r&&i.a.createElement(se.a,null,r),i.a.createElement(ce.a,null,o))},ue=a(47),de=a(219);function me(e){var t=e.currentMember,a=e.mode,n=void 0===a?"add":a,r=e.handlers,o=i.a.useState({name:"",email:"",address:"",position:"",password:""}),c=Object($.a)(o,2),s=c[0],l=c[1];i.a.useEffect((function(){"edit"===n&&l(Object(g.a)({},t))}),[t,n]);var u=function(){var e=Object(h.a)(b.a.mark((function e(){var a,i,o,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"add"!==n){e.next=10;break}if(e.t0=null===r||void 0===r?void 0:r.addMember,!e.t0){e.next=7;break}return e.next=6,r.addMember(s);case 6:e.t0=e.sent;case 7:i=e.t0,e.next=16;break;case 10:if(e.t1=null===r||void 0===r?void 0:r.editMember,!e.t1){e.next=15;break}return e.next=14,r.editMember(s,t._id);case 14:e.t1=e.sent;case 15:i=e.t1;case 16:r.callback({open:!0,message:null===(a=i)||void 0===a?void 0:a.message,severity:"success"}),e.next=22;break;case 19:e.prev=19,e.t2=e.catch(0),r.callback({open:!0,message:null===e.t2||void 0===e.t2||null===(o=e.t2.data)||void 0===o||null===(c=o.error)||void 0===c?void 0:c.message,severity:"error"});case 22:r.handleClose();case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),d=function(e){l(Object(g.a)(Object(g.a)({},s),{},Object(ue.a)({},e.target.name,e.target.value)))};return i.a.createElement(q.a,null,i.a.createElement(q.a,{m:m(8)},i.a.createElement(de.a,{label:"Name",name:"name",value:s.name,onChange:d,type:"text",variant:"outlined",fullWidth:!0})),i.a.createElement(q.a,{m:m(8)},i.a.createElement(de.a,{label:"Email",name:"email",value:s.email,onChange:d,type:"text",variant:"outlined",fullWidth:!0})),i.a.createElement(q.a,{m:m(8)},i.a.createElement(de.a,{label:"Address",name:"address",value:s.address,onChange:d,type:"text",variant:"outlined",fullWidth:!0})),i.a.createElement(q.a,{m:m(8)},i.a.createElement(de.a,{label:"Position",name:"position",value:s.position,onChange:d,type:"text",variant:"outlined",fullWidth:!0})),i.a.createElement(q.a,{m:m(8)},i.a.createElement(de.a,{label:"password",name:"password",value:s.password,onChange:d,type:"password",variant:"outlined",fullWidth:!0})),i.a.createElement(q.a,{m:m(8)},i.a.createElement(J.a,{variant:"contained",color:"primary",onClick:u},n," Member")))}var ve=a(221);function pe(e){var t=e.members,a=e.currentMember,n=e.handlers,r=i.a.useState([]),o=Object($.a)(r,2),c=o[0],s=o[1];i.a.useEffect((function(){(null===a||void 0===a?void 0:a.assigned)&&s(t.normalizedAssignedUser(null===a||void 0===a?void 0:a.assigned))}),[a,a.assigned,t]);return i.a.createElement(q.a,null,i.a.createElement(q.a,{m:m(8)},i.a.createElement(ve.a,{multiple:!0,options:t.membersExcept(a._id,t.membersExceptMe),value:c,onChange:function(e,t){s(t)},getOptionLabel:function(e){return null===e||void 0===e?void 0:e.email},renderInput:function(e){return i.a.createElement(de.a,Object.assign({},e,{variant:"standard",label:"Member",placeholder:"Select members"}))}})),i.a.createElement(q.a,{m:m(8)},i.a.createElement(J.a,{variant:"contained",color:"primary",onClick:function(){n.assignMember(a,c),n.handleClose()}},"Assign Member")))}var be=a(148),fe=a(215),ge=a(224),he=Object(D.a)((function(e){return Object(ge.a)({backdrop:{color:e.palette.secondary.main,backgroundColor:e.palette.primary.main}})}));var Ee=function(e){var t=e.loading,a=he();return i.a.createElement(i.a.Fragment,null,i.a.createElement(be.a,{className:a.backdrop,open:t},i.a.createElement(fe.a,{color:"inherit"})))},we=a(222),ye=a(223);var ke=function(e){var t=e.open,a=e.onClose,n=e.severity,r=e.children;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ye.a,{open:t,autoHideDuration:2e3,onClose:a},i.a.createElement(we.a,{variant:"filled",severity:n},r)))},xe=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Address",dataIndex:"address",key:"address"},{title:"Position",dataIndex:"position",key:"position"},{title:"Password",dataIndex:"password",key:"password"}];var Oe=Object(s.b)("members")(Object(s.c)((function(e){var t=e.members,a=i.a.useState(!1),n=Object($.a)(a,2),r=n[0],o=n[1],c=i.a.useState(!1),s=Object($.a)(c,2),l=s[0],u=s[1],d=i.a.useState({}),v=Object($.a)(d,2),p=v[0],f=v[1],E=i.a.useState({open:!1,severity:"",message:""}),w=Object($.a)(E,2),y=w[0],k=w[1];i.a.useEffect((function(){t.getAllMember()}),[t]);var x=i.a.useState(!1),O=Object($.a)(x,2),j=O[0],C=O[1],M=function(){o(!1)},R=function(){C(!1)},A=function(){u(!1)};return t.members.length<0?i.a.createElement(Ee,{loading:!0}):i.a.createElement(q.a,{m:m(20)},i.a.createElement(G.a,{variant:"h4"},"Member"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(J.a,{variant:"contained",color:"primary",onClick:function(){o(!0)}},"Add Member"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(ie,{rows:t.membersExceptMe,columns:xe,extraRows:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,null,i.a.createElement(J.a,{variant:"contained",onClick:function(){return f(e),void C(!0)},color:"primary"},"Assign")),i.a.createElement(X.a,null,i.a.createElement(J.a,{variant:"contained",onClick:function(){return function(e){f(e),u(!0)}(e)},color:"primary"},"Edit"),"\xa0",i.a.createElement(J.a,{variant:"contained",color:"secondary",onClick:Object(h.a)(b.a.mark((function a(){var n,r,i;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.deleteMember(null===e||void 0===e?void 0:e._id);case 3:n=a.sent,k({message:null===n||void 0===n?void 0:n.message,severity:"success",open:!0}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),k({message:null===a.t0||void 0===a.t0||null===(r=a.t0.data)||void 0===r||null===(i=r.error)||void 0===i?void 0:i.message,severity:"success",open:!0}),console.info(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))},"Delete")))},extraColumns:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,null,"Review"),i.a.createElement(X.a,null,"Action"))}}),i.a.createElement(le,{title:"Add Member",open:r,handleClose:M,fullWidth:!0},i.a.createElement(me,{handlers:{addMember:t.addMember,callback:k,handleClose:M}})),i.a.createElement(le,{title:"Assign Member For Review",open:j,handleClose:R,fullWidth:!0},i.a.createElement(pe,{members:t,currentMember:p,handlers:{assignMember:t.assignMember,handleClose:R}})),i.a.createElement(le,{title:"Assign Member For Review",open:l,handleClose:A,fullWidth:!0},i.a.createElement(me,{mode:"edit",currentMember:p,handlers:{editMember:t.editMember,callback:k,handleClose:A}})),i.a.createElement(ke,{open:y.open,onClose:function(){return k(Object(g.a)(Object(g.a)({},y),{},{open:!1}))},severity:y.severity},null===y||void 0===y?void 0:y.message))})));function je(e){var t=e.currentMember,a=e.handlers,n=i.a.useState(""),r=Object($.a)(n,2),o=r[0],c=r[1];i.a.useEffect((function(){t.feedback&&c(t.feedback)}),[t]);var s=function(){var e=Object(h.a)(b.a.mark((function e(){var n,r,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=null===a||void 0===a?void 0:a.editFeedback,!e.t0){e.next=6;break}return e.next=5,a.editFeedback(t._id,o,t);case 5:e.t0=e.sent;case 6:n=e.t0,a.getAllReview(),a.callback({open:!0,message:null===n||void 0===n?void 0:n.message,severity:"success"}),e.next=14;break;case 11:e.prev=11,e.t1=e.catch(0),a.callback({open:!0,message:null===e.t1||void 0===e.t1||null===(r=e.t1.data)||void 0===r||null===(i=r.error)||void 0===i?void 0:i.message,severity:"error"});case 14:a.handleClose();case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(q.a,null,i.a.createElement(q.a,{m:m(8)},i.a.createElement(de.a,{id:"feedback",label:"Feedback",multiline:!0,rows:6,fullWidth:!0,variant:"outlined",value:o,onChange:function(e){c(e.target.value)}})),i.a.createElement(q.a,{m:m(8)},i.a.createElement(J.a,{variant:"contained",color:"primary",onClick:s},"Add Feedback")))}var Ce=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Address",dataIndex:"address",key:"address"},{title:"Position",dataIndex:"position",key:"position"},{title:"ReviewedBy",dataIndex:"reviewedBy",key:"reviewedBy"}];var Me=Object(s.b)("reviews")(Object(s.c)((function(e){var t=e.reviews,a=i.a.useState(!1),n=Object($.a)(a,2),r=n[0],o=n[1],c=i.a.useState({}),s=Object($.a)(c,2),l=s[0],u=s[1],d=i.a.useState({open:!1,severity:"",message:""}),v=Object($.a)(d,2),p=v[0],b=v[1];i.a.useEffect((function(){t.getAllReview()}),[t]);var f=function(){o(!1)};return i.a.createElement(q.a,{m:m(20)},i.a.createElement(G.a,{variant:"h4"},"Review"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(ie,{rows:t.normalizedReview,columns:Ce,extraRows:function(e){return i.a.createElement(X.a,null,i.a.createElement(J.a,{variant:"contained",onClick:function(){return function(e){u(e),o(!0)}(e)},color:"primary"},(null===e||void 0===e?void 0:e.feedback)?"edit":"add"))},extraColumns:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,null,"Feedback"))}}),i.a.createElement(le,{title:"Assign Member For Review",open:r,handleClose:f,fullWidth:!0},i.a.createElement(je,{currentMember:l,handlers:{editFeedback:t.editFeedback,getAllReview:t.getAllReview,handleClose:f,callback:b}})),i.a.createElement(ke,{open:p.open,onClose:function(){return b(Object(g.a)(Object(g.a)({},p),{},{open:!1}))},severity:p.severity},null===p||void 0===p?void 0:p.message))}))),Re=a(216),Ae=Object(D.a)({root:{minWidth:575}});var _e=[{component:Oe,path:"/member",exact:!0,is_private:!0},{component:Me,path:"/review",exact:!0,is_private:!0},{component:Object(s.b)("user")(Object(s.c)((function(e){var t=e.user,a=Ae(),n=i.a.useState({email:"",password:""}),r=Object($.a)(n,2),o=r[0],c=r[1],s=i.a.useState({open:!1,severity:"",message:""}),l=Object($.a)(s,2),u=l[0],d=l[1],v=function(e){c(Object(g.a)(Object(g.a)({},o),{},Object(ue.a)({},e.target.name,e.target.value)))},p=function(){var e=Object(h.a)(b.a.mark((function e(){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.login(o);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),d({open:!0,severity:"error",message:null===e.t0||void 0===e.t0||null===(a=e.t0.data)||void 0===a||null===(n=a.error)||void 0===n?void 0:n.message});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(q.a,{display:"flex",justifyContent:"center",mt:m(240)},i.a.createElement(Re.a,{className:a.root,variant:"outlined"},i.a.createElement(q.a,{m:m(12),textAlign:"center"},i.a.createElement(G.a,{variant:"h4",color:"primary"},"Login")),i.a.createElement(q.a,{m:m(12)},i.a.createElement(de.a,{label:"Email",name:"email",value:o.email,onChange:v,type:"text",variant:"outlined",fullWidth:!0})),i.a.createElement(q.a,{m:m(12)},i.a.createElement(de.a,{label:"Password",name:"password",value:o.password,onChange:v,type:"password",variant:"outlined",fullWidth:!0})),i.a.createElement(q.a,{m:m(12)},i.a.createElement(J.a,{variant:"contained",onClick:p,color:"primary"},"Login"))),i.a.createElement("iframe",{width:"853",onLoad:function(){setTimeout((function(){var e=document.getElementById("test");console.log("myIframe",e);e.contentWindow.postMessage(JSON.stringify({apiKey:"1234",onPreview:"()=>{}",onSave:"()=>{}"}),"*")}),1e3)},id:"test",height:"480",src:"http://localhost:3000",frameBorder:"0",allowFullScreen:!0}),i.a.createElement(ke,{open:u.open,onClose:function(){return d(Object(g.a)(Object(g.a)({},u),{},{open:!1}))},severity:u.severity},null===u||void 0===u?void 0:u.message))}))),path:"/",exact:!0,is_private:!1},{component:function(){return i.a.useEffect((function(){if(!document.getElementById("zegal-cdn")){var e=document.createElement("script");"localhost"===window.location.hostname||window.location.hostname;e.src="http://localhost:8080/zegal.lite.local.min.js",e.id="zegal-cdn",document.body.appendChild(e),e.onload=function(){var e,t={APIKEY:"pk_d673b831-a9b8-43c2-b788-6a68a15a83a1",WLID:"628ca170e63d8e578358e595",category:"62da1da8816ff0d01bc26a23",doctype:"62e36d387a5a845189ff4bb9",guide:"62da1cfe816ff06d80c26a20"},a=new(null===(e=window)||void 0===e?void 0:e.Zegal)({APIKEY:t.APIKEY,WLID:t.WLID,CONTAINERID:"zegal-iframe-container",GUIDEID:t.guide});a.loadDocument(Object(g.a)(Object(g.a)({},t),{},{existing:!1})),window.zegal=a},e.onerror=function(e){console.error("Error while loading script",e)}}}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{position:"fixed",inset:0,backgroundColor:"#fff",zIndex:9999}},i.a.createElement("button",{onClick:function(){window.zegal.getInvoice({})}},"invoice"),i.a.createElement("div",{id:"zegal-iframe-container",style:{height:"100%"}})))},path:"/test",exact:!0,is_private:!1}];function Ie(e){var t=e.token;return t&&W.push("/review"),i.a.createElement(P.c,null,_e.map((function(e,a){var n=Object.assign({},e);if(t){if(n.is_private)return i.a.createElement(P.a,Object.assign({key:a},n))}else if(!n.is_private)return i.a.createElement(P.a,Object.assign({key:a},n));return null})))}var Se=Object(s.b)("user")(Object(s.c)((function(e){var t=e.user,a=t.token,n=t.logout,r=t.role;return i.a.createElement(P.b,{history:W},a&&i.a.createElement(q.a,null,i.a.createElement(Z,{logout:n,role:r})),i.a.createElement(q.a,{ml:a?"200px":0},i.a.createElement(Ie,{token:a})))})));var We=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Se,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Fe(e){return i.a.createElement(l.a,{theme:v},i.a.createElement(u.a,null),e.children)}c.a.render(i.a.createElement(s.a,z,i.a.createElement(Fe,null,i.a.createElement(We,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[116,1,2]]]);
//# sourceMappingURL=main.a799df39.chunk.js.map